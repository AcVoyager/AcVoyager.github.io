<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"acvoyager.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="欢迎来到我的AWS学习笔记系列。 本文着重记述关于AWS网络和内容分发的知识点。如若转载，请先与作者联系。 本文图片来自于网络 AWS Networking and Content Delivering">
<meta property="og:type" content="article">
<meta property="og:title" content="AWS学习笔记: Networking and Content Delivery">
<meta property="og:url" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/index.html">
<meta property="og:site_name" content="The Black Pearl">
<meta property="og:description" content="欢迎来到我的AWS学习笔记系列。 本文着重记述关于AWS网络和内容分发的知识点。如若转载，请先与作者联系。 本文图片来自于网络 AWS Networking and Content Delivering">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/sec1.jpg">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/sec2.1.jpeg">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/sec2.2.jpeg">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/internet-gateway-overview-diagram.png">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/nat-gateway-diagram.png">
<meta property="og:image" content="https://media.amazonwebservices.com/blog/2017/dc_global_mod_after_1.png">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/aws_sts_vpn.png">
<meta property="og:image" content="https://docs.aws.amazon.com/directconnect/latest/UserGuide/images/direct_connect_overview.png">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/vpc_endpoints.png">
<meta property="og:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/aws_transit_gateway.png">
<meta property="og:image" content="https://i2.wp.com/networkinterview.com/wp-content/uploads/2019/11/security-groups-in-AWS.jpg?w=800&ssl=1">
<meta property="og:image" content="https://miro.medium.com/max/1750/1*o76vPCV2AF0jeVVunVwYDA.png">
<meta property="article:published_time" content="2020-10-05T05:01:46.000Z">
<meta property="article:modified_time" content="2020-10-27T00:45:29.841Z">
<meta property="article:author" content="Voyager">
<meta property="article:tag" content="AWS">
<meta property="article:tag" content="Network">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/sec1.jpg">


<link rel="canonical" href="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>AWS学习笔记: Networking and Content Delivery | The Black Pearl</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168368135-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-168368135-1');
      }
    </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">The Black Pearl</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#AWS-Networking-and-Content-Delivering"><span class="nav-number">1.</span> <span class="nav-text">AWS Networking and Content Delivering</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-I-Networking-Basics"><span class="nav-number">1.1.</span> <span class="nav-text">Sec I: Networking Basics</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-II-Amazon-VPC"><span class="nav-number">1.2.</span> <span class="nav-text">Sec II: Amazon VPC</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-III-VPC-Networking"><span class="nav-number">1.3.</span> <span class="nav-text">Sec III: VPC Networking</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Outlines"><span class="nav-number">1.3.1.</span> <span class="nav-text">Outlines</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-IV-VPC-Security"><span class="nav-number">1.4.</span> <span class="nav-text">Sec IV: VPC Security</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-V-Route-53"><span class="nav-number">1.5.</span> <span class="nav-text">Sec V: Route 53</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sec-VI-CloudFront"><span class="nav-number">1.6.</span> <span class="nav-text">Sec VI: CloudFront</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Voyager</p>
  <div class="site-description" itemprop="description">回首向来萧瑟处，归去</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/AcVoyager" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AcVoyager" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xcvoyager01@gmail.com" title="E-Mail → mailto:xcvoyager01@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Voyager">
      <meta itemprop="description" content="回首向来萧瑟处，归去">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The Black Pearl">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AWS学习笔记: Networking and Content Delivery
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-04 22:01:46" itemprop="dateCreated datePublished" datetime="2020-10-04T22:01:46-07:00">2020-10-04</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-10-26 17:45:29" itemprop="dateModified" datetime="2020-10-26T17:45:29-07:00">2020-10-26</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%AD%E6%96%87-English/" itemprop="url" rel="index"><span itemprop="name">中文, English</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="firestore-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/04/AWS学习笔记-Networking-and-Content-Delivery/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>欢迎来到我的AWS学习笔记系列。</p>
<p>本文着重记述关于AWS网络和内容分发的知识点。如若转载，请先与作者联系。</p>
<p><em>本文图片来自于网络</em></p>
<h1 id="AWS-Networking-and-Content-Delivering"><a href="#AWS-Networking-and-Content-Delivering" class="headerlink" title="AWS Networking and Content Delivering"></a>AWS Networking and Content Delivering</h1><a id="more"></a>

<h2 id="Sec-I-Networking-Basics"><a href="#Sec-I-Networking-Basics" class="headerlink" title="Sec I: Networking Basics"></a>Sec I: Networking Basics</h2><p><img src="sec1.jpg" alt=""></p>
<h2 id="Sec-II-Amazon-VPC"><a href="#Sec-II-Amazon-VPC" class="headerlink" title="Sec II: Amazon VPC"></a>Sec II: Amazon VPC</h2><p><img src="sec2.1.jpeg" alt=""></p>
<p><img src="sec2.2.jpeg" alt=""></p>
<h2 id="Sec-III-VPC-Networking"><a href="#Sec-III-VPC-Networking" class="headerlink" title="Sec III: VPC Networking"></a>Sec III: VPC Networking</h2><h3 id="Outlines"><a href="#Outlines" class="headerlink" title="Outlines"></a>Outlines</h3><p>Internet gateway: Connects your VPC to the internet</p>
<p>NAT gateway: Enables instances in a private subnet to connect to the internet</p>
<p>VPC endpoint: Connects your VPC to supported AWS services</p>
<p>VPC peering: Connects your VPC to other VPCs</p>
<p>VPC sharing: Allows multiple AWS accounts to create their application resources into shared, centrally-managed Amazon VPCs</p>
<p>AWS Site-to-Site VPN: Connects your VPC to remote networks</p>
<p>AWS Direct Connect: Connects your VPC to a remote network by using a dedicated network connection</p>
<p>AWS Transit Gateway: A hub-and-spoke connection alternative to VPC peering</p>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html">Internet Gateway(public subnet公网连接)</a></p>
<ul>
<li>Scalable, redundant and highly available.</li>
<li>Allow communication between instances in VPC and the internet.</li>
<li>Two purposes:<ul>
<li>Provide a target for the VPC route tables for internet-routable traffic.</li>
<li>Perform network address translation(NAT) for instances within VPC.</li>
</ul>
</li>
<li>Subnet and gateway<ul>
<li>If a subnet is associated with a <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html#RouteTables">route table</a> which</li>
<li>has a gateway -&gt; public subnet;</li>
<li>doesn’t have a gateway -&gt; private subnet.</li>
</ul>
</li>
<li>To make subset public,<ul>
<li>Attach an internet gateway to the VPC(not directly to the subnet).</li>
<li>Add a route to the route table to send <strong>non-local</strong> traffic through the gateway to the internet</li>
<li>In your subnet route table, you can specify a route for the internet gateway to <strong>all destinations not explicitly known to the route table</strong> (0.0.0.0/0 for IPv4 or ::/0 for IPv6)<br><img src="internet-gateway-overview-diagram.png" alt=""></li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat.html">Network Address Gateway(NAT) (private subnet借public subnet单向访问公网)</a></p>
<ul>
<li>Reside in <strong>public subnet</strong>, work for <strong>private subnet</strong>.</li>
<li>Enable private subnets to access the Internet, but prevent the Internet from initializing connection with private subnets.</li>
<li>Have to assign an elastic IP address to NAT gateway.</li>
<li>Alternative: NAT Instance, but NAT gateway is recommended because:<ul>
<li>NAT gateway is a managed NAT service that provides better availability, higher bandwidth, and less administrative effort.</li>
<li>For common use cases, AWS recommends that you <strong>use a NAT gateway instead of a NAT instance</strong>.<br><img src="nat-gateway-diagram.png" alt=""></li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-sharing.html">VPC Sharing(同组织用户共享VOC)</a></p>
<ul>
<li>VPC sharing enables customers to share subnets with other AWS accounts in the same organization in AWS Organizations.</li>
<li>Application resources: such as Amazon EC2 instances, Amazon Relational Database Service (Amazon RDS) databases, Amazon Redshift clusters, and AWS Lambda functions.</li>
<li>The participants can view, create, modify, and delete their application resources in the subnets that are shared with them.</li>
<li>Centrally controlled VPC structure, routing, IP address allocation.<br><img src="https://media.amazonwebservices.com/blog/2017/dc_global_mod_after_1.png" alt=""></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-peering.html">VPC Peering(VPC间private互联)</a></p>
<ul>
<li>A VPC peering connection is a networking <strong>connection between two VPCs</strong> that enables you to route traffic between them privately. </li>
<li>When you set up the peering connection, you create rules in your route table to allow the VPCs to communicate with each other through the peering resource.</li>
<li>Restrictions:<ul>
<li>IP address ranges cannot overlap. </li>
<li>Transitive peering is not supported. A&lt;-&gt;B, A&lt;-&gt;C, cannot infer B&lt;-&gt;C.</li>
<li>You can only have one peering resource between the same two VPCs.</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpn/latest/s2svpn/VPC_VPN.html">AWS Site-to-Site VPN(VPC到外部网络点对点VPN连接)</a></p>
<ul>
<li>From <strong>private subnet</strong> to your own(remote) network.</li>
<li>By default, instances that you launch into a VPC cannot communicate with a remote network. To connect your VPC to your remote network (that is, create a virtual private network or VPN connection), you:<ul>
<li>Create a new virtual gateway device (called a virtual private network (VPN) gateway) and attach it to your VPC.</li>
<li>Define the configuration of the VPN device or the customer gateway. The customer gateway is not a device but an AWS resource that provides information to AWS about your VPN device.</li>
<li>Create a custom route table to point corporate data center-bound traffic to the VPN gateway. You also must update security group rules. (You will learn about security groups in the next section.)</li>
<li>Establish an AWS Site-to-Site VPN (Site-to-Site VPN) connection to link the two systems together.</li>
<li>Configure routing to pass traffic through the connection.<br><img src="aws_sts_vpn.png" alt=""></li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/directconnect/">AWS Direct Connect(VPC与外部数据中心建立private高性能连接)</a></p>
<ul>
<li><strong>Private connection</strong> from your VPC to your data center. The key difference between VPN:<ul>
<li>It focuses on <strong>increasing the performance</strong> of the connection.</li>
<li>Replace AWS Site-to-Site VPN with AWS Direct Connect.</li>
<li>Use open standard 802.1q virtual local area networks (VLANs).</li>
</ul>
</li>
<li>reduce your network costs, increase bandwidth throughput, and provide a more consistent network experience than internet-based connections.<br><img src="https://docs.aws.amazon.com/directconnect/latest/UserGuide/images/direct_connect_overview.png" alt=""></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html">VPC Endpoints(VPC与AWS内部services建立private互联)</a></p>
<ul>
<li>Still <strong>private connection</strong>, connect your VPC to supported AWS services and VPC endpoint services that are powered by AWS PrivateLink.</li>
<li>Connection to these services does not require an internet gateway, NAT device, VPN connection, or AWS Direct Connect connection.</li>
<li>Instances in your VPC do not require public IP addresses to communicate with resources in the service. Traffic between your VPC and the other service does not leave the Amazon network.<br><img src="vpc_endpoints.png" alt=""></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/tgw/what-is-transit-gateway.html">AWS Transit Gateway(将上述各类connection用一个hub集成)</a></p>
<ul>
<li>A transit gateway <strong>acts as a hub that controls how traffic is routed</strong> among all the connected networks, which act like spokes. </li>
<li>You can configure your VPCs in several ways, and take advantage of numerous connectivity options and gateways, but managing point-to-point connectivity across many VPCs without the ability to centrally manage the connectivity policies can be operationally costly and difficult.</li>
<li>To solve this problem, you can use AWS Transit Gateway to simplify your networking model. With AWS Transit Gateway, you only need to create and manage a single connection from the central gateway into each VPC, on-premises data center, or remote office across your network.<br><img src="aws_transit_gateway.png" alt=""></li>
</ul>
<h2 id="Sec-IV-VPC-Security"><a href="#Sec-IV-VPC-Security" class="headerlink" title="Sec IV: VPC Security"></a>Sec IV: VPC Security</h2><p>In this section, you learn about two Amazon VPC firewall options that you can use to secure your VPC: <strong>security groups</strong> and <strong>network access control lists</strong> (network ACLs).</p>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html#VPCSecurityGroups">Security Groups(instance级别安全措施)</a></p>
<ul>
<li>A security group acts as a virtual firewall for your instance, and it controls inbound and outbound traffic. </li>
<li>Security groups act at the instance level, not the subnet level. Therefore, each instance in a subnet in your VPC can be assigned to a different set of security groups.<br><img src="https://i2.wp.com/networkinterview.com/wp-content/uploads/2019/11/security-groups-in-AWS.jpg?w=800&ssl=1" alt=""></li>
<li>By default, no inbound traffic allowed; all outbound traffic allowed.</li>
<li>Stateful. <ul>
<li>if you send a request from your instance, the response traffic for that request is allowed to flow in regardless of inbound security group rules. </li>
<li>Responses to allowed inbound traffic are allowed to flow out, regardless of outbound rules. </li>
</ul>
</li>
<li>Custom Security Rules<ul>
<li>You can specify allow rules, but not deny rules. </li>
<li>All rules are evaluated before the decision to allow traffic.</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html">network access control list (network ACL) (subnet/VPC级别安全措施)</a></p>
<ul>
<li>Acts as a firewall for controlling traffic in and out of one or more subnets.</li>
<li>Each subnet in your VPC must be associated with a network ACL. If you don’t explicitly associate a subnet with a network ACL, the subnet is automatically associated with the default network ACL. </li>
<li>You can associate a network ACL with multiple subnets; however, a subnet can be associated with only one network ACL at a time.</li>
<li>Your VPC automatically comes with a modifiable default network ACL.</li>
<li>Difference between ACL and security groups:<ul>
<li>By default, it allows all inbound and outbound IPv4 traffic and, if applicable, IPv6 traffic.</li>
<li>Each rule can either allow or deny traffic. </li>
<li>Network ACLs are stateless, which means that no information about a request is maintained after a request is processed. </li>
</ul>
</li>
<li>Custom ACL<ul>
<li>By default, each custom network ACL denies all inbound and outbound traffic until you add rules. </li>
<li>A network ACL contains a numbered list of rules that are evaluated in order, starting with the lowest numbered rule. The highest number that you can use for a rule is <strong>32,766</strong>.</li>
<li>AWS recommends to create rules in increments.</li>
</ul>
</li>
</ul>
<p>Comparison between security groups and network ACL.</p>
<table>
<thead>
<tr>
<th></th>
<th>Security Groups</th>
<th>Network ACLs</th>
</tr>
</thead>
<tbody><tr>
<td>Scope</td>
<td>Instance level.</td>
<td>Subnet level.</td>
</tr>
<tr>
<td>Default</td>
<td>All inbound traffic denied; all outbound traffic allowed.</td>
<td>Allows all inbound and outbound IPv4 traffic. If applicable, allows IPv6 traffic.</td>
</tr>
<tr>
<td>Supported rules</td>
<td><code>allow</code> rules only</td>
<td><code>allow</code> and <code>deny</code> rules</td>
</tr>
<tr>
<td>State</td>
<td>Stateful</td>
<td>Stateless</td>
</tr>
<tr>
<td>Customize</td>
<td>User can only specify allow rules but deny rules.</td>
<td>By default, custom ACL denies all inbound and outbound traffic until adding rules. <br> User can both add allow or deny rules.</td>
</tr>
<tr>
<td>Order of rules</td>
<td>All rules are evaluated.</td>
<td>Rules are evaluated in number order(increment).</td>
</tr>
</tbody></table>
<h2 id="Sec-V-Route-53"><a href="#Sec-V-Route-53" class="headerlink" title="Sec V: Route 53"></a>Sec V: Route 53</h2><p>Amazon Route 53 is a highly available and scalable cloud <strong>Domain Name System (DNS)</strong> web service. </p>
<ul>
<li>Translating names (like <a target="_blank" rel="noopener" href="http://www.example.com">www.example.com</a>) into the numeric IP addresses (like 192.0.2.1).</li>
<li>Is fully compliant with IPv4 and IPv6</li>
<li>Connects user requests to infrastructure running in AWS and also outside of AWS</li>
<li>Is used to check the health of your resources</li>
<li>Features traffic flow</li>
<li>Enables you to register domain names</li>
<li>support routings<ul>
<li>Simple routing – Use in single-server environments</li>
<li>Weighted round robin routing – Assign weights to resource record sets to specify the frequency</li>
<li>Latency routing – Help improve your global applications</li>
<li>Geolocation routing – Route traffic based on location of your users</li>
<li>Geoproximity routing – Route traffic based on location of your resources</li>
<li>Failover routing – Fail over to a backup site if your primary site becomes unreachable</li>
<li>Multivalue answer routing – Respond to DNS queries with up to eight healthy records selected at random</li>
</ul>
</li>
<li>Multi-Region deployment<ul>
<li>Latency-based routing to the Region</li>
<li>Load balancing routing to the Availability Zone</li>
</ul>
</li>
<li>Route Failover<ul>
<li>Configuring backup and failover scenarios for your own applications</li>
<li>Enabling highly available multi-region architectures on AWS</li>
<li>Creating health checks</li>
<li><img src="https://miro.medium.com/max/1750/1*o76vPCV2AF0jeVVunVwYDA.png" alt=""></li>
</ul>
</li>
</ul>
<h2 id="Sec-VI-CloudFront"><a href="#Sec-VI-CloudFront" class="headerlink" title="Sec VI: CloudFront"></a>Sec VI: CloudFront</h2><p>The purpose of networking is to share information between connected resources. So far in this module, you learned about VPC networking with Amazon VPC. You learned about the different options for connecting your VPC to the internet, to remote networks, to other VPCs, and to AWS services. </p>
<p>Content delivery occurs over networks, too—for example, when you stream a movie from your favorite streaming service. In this final section, you learn about Amazon CloudFront, which is a content delivery network (CDN) service.</p>
<p>Content Delivery Network(CDN)</p>
<ul>
<li>Globally distributed system of caching servers.</li>
<li>The CDN delivers a local copy of the requested content from a cache edge or Point of Presence that provides the fastest delivery to the requester.</li>
<li>Accelerates delivery of dynamic content</li>
<li>Improves application performance and scaling</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/cloudfront/">Amazon CloudFront(Amazon提供的CDN服务)</a></p>
<ul>
<li>Features:  <ul>
<li>Fast, global, and secure CDN service</li>
<li>Global network of edge locations and Regional edge caches</li>
<li>Self-service model </li>
<li>Pay-as-you-go pricing</li>
</ul>
</li>
<li>Global infrastructure<ul>
<li>Edge locations: Network of data centersthat CloudFront uses to serve popular content quickly to customers.</li>
<li>Regional edge locations: CloudFrontlocation that caches content that is notpopular enough to stay at an edge location. It is located between the origin server and the global edge location. </li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Voyager
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/" title="AWS学习笔记: Networking and Content Delivery">https://acvoyager.github.io/2020/10/04/AWS学习笔记-Networking-and-Content-Delivery/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/AWS/" rel="tag"># AWS</a>
              <a href="/tags/Network/" rel="tag"># Network</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/10/01/Oct-1st-check-in/" rel="prev" title="Oct 1st check-in">
                  <i class="fa fa-chevron-left"></i> Oct 1st check-in
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/10/05/hexo-asset%E8%AE%BE%E7%BD%AE-hexo-rendered-marked/" rel="next" title="hexo asset设置: hexo-rendered-marked">
                  hexo asset设置: hexo-rendered-marked <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Voyager</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  

  <script src="//cdn.jsdelivr.net/npm/firebase@8.2.1/firebase-app.js"></script>
  <script src="//cdn.jsdelivr.net/npm/firebase@8.2.1/firebase-firestore.js"></script>
  <script>
    firebase.initializeApp({
      apiKey   : 'AIzaSyDY9_gdwlZQh3pD0aOUUt4qoOuS_Cnn7L8',
      projectId: 'my-blog-9d335'
    });

    function getCount(doc, increaseCount) {
      // IncreaseCount will be false when not in article page
      return doc.get().then(d => {
        // Has no data, initialize count
        let count = d.exists ? d.data().count : 0;
        // If first view this article
        if (increaseCount) {
          // Increase count
          count++;
          doc.set({
            count
          });
        }
        return count;
      });
    }

    function appendCountTo(el) {
      return count => {
        el.innerText = count;
      };
    }
  </script>
  <script>
    (function() {
      const db = firebase.firestore();
      const articles = db.collection('articles');

      if (CONFIG.page.isPost) {
        // Fix issue #118
        // https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent
        const title = document.querySelector('.post-title').textContent.trim();
        const doc = articles.doc(title);
        let increaseCount = CONFIG.hostname === location.hostname;
        if (localStorage.getItem(title)) {
          increaseCount = false;
        } else {
          // Mark as visited
          localStorage.setItem(title, true);
        }
        getCount(doc, increaseCount).then(appendCountTo(document.querySelector('.firestore-visitors-count')));
      } else if (CONFIG.page.isHome) {
        const promises = [...document.querySelectorAll('.post-title')].map(element => {
          const title = element.textContent.trim();
          const doc = articles.doc(title);
          return getCount(doc);
        });
        Promise.all(promises).then(counts => {
          const metas = document.querySelectorAll('.firestore-visitors-count');
          counts.forEach((val, idx) => {
            appendCountTo(metas[idx])(val);
          });
        });
      }
    })();
  </script>



  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'none'
      },
      options: {
        renderActions: {
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://voyager.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://acvoyager.github.io/2020/10/04/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Networking-and-Content-Delivery/";
    this.page.identifier = "2020/10/04/AWS学习笔记-Networking-and-Content-Delivery/";
    this.page.title = "AWS学习笔记: Networking and Content Delivery";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://voyager.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
