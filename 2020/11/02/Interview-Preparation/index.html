<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"acvoyager.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.0.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="网络相关OSI七层模型和TCP&#x2F;IP四层模型：  TCP三次握手(动图)：  三次握手总览：  TCP四次挥手（动图）：  四次挥手总揽：  TCP三次握手&#x2F;四次挥手详解，及以上图片来源：https:&#x2F;&#x2F;blog.csdn.net&#x2F;qzcsu&#x2F;article&#x2F;details&#x2F;72861891 cookie与session TCP流量控制、拥塞控制 从URL在浏览器被被输入到页面展现的过程中发生了什">
<meta property="og:type" content="article">
<meta property="og:title" content="Interview Preparation">
<meta property="og:url" content="https://acvoyager.github.io/2020/11/02/Interview-Preparation/index.html">
<meta property="og:site_name" content="The Black Pearl">
<meta property="og:description" content="网络相关OSI七层模型和TCP&#x2F;IP四层模型：  TCP三次握手(动图)：  三次握手总览：  TCP四次挥手（动图）：  四次挥手总揽：  TCP三次握手&#x2F;四次挥手详解，及以上图片来源：https:&#x2F;&#x2F;blog.csdn.net&#x2F;qzcsu&#x2F;article&#x2F;details&#x2F;72861891 cookie与session TCP流量控制、拥塞控制 从URL在浏览器被被输入到页面展现的过程中发生了什">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img-blog.csdn.net/2018041112053246?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5NTIxNTU0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA3MjA1NzA5MzY3?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA1MTEwNDA1NjY2?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA3MjA1NzU2MjU1?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA2MDg0ODUxMjcy?x-oss-process=image/format,png">
<meta property="og:image" content="https://filescdn.proginn.com/c1386c7346ed50da4807693fce7001d6/8256a8e79a14f5cef1f23e55df2e921f.webp">
<meta property="og:image" content="https://s4.51cto.com/oss/202001/16/e21ecbee958cc8748aeaa66308279833.png">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/1/12/16f98d1f10d64aa7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="og:image" content="http://c.biancheng.net/uploads/allimg/181102/2-1Q10209450b95.gif">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-8894982f1c09259e2959acddc9f095e7_1440w.jpg">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/30/166c578ad18a1d40?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/2/27/170867cb6af0a72d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="og:image" content="https://sp.mysqltutorial.org/wp-content/uploads/2019/10/MySQL-GROUP-BY-Evaluation-Order.png">
<meta property="og:image" content="https://lotabout.me/2018/skip-list/skip-list.svg">
<meta property="og:image" content="http://www.choupangxia.com/wp-content/uploads/2019/10/jvm-xmind.jpg">
<meta property="og:image" content="https://p1.meituan.net/travelcube/912883e51327e0c7a9d753d11896326511272.png">
<meta property="og:image" content="https://p0.meituan.net/travelcube/77441586f6b312a54264e3fcf5eebe2663494.png">
<meta property="og:image" content="https://p0.meituan.net/travelcube/62853fa44bfa47d63143babe3b5a4c6e82532.png">
<meta property="og:image" content="https://p0.meituan.net/travelcube/582d1606d57ff99aa0e5f8fc59c7819329028.png">
<meta property="og:image" content="https://acvoyager.github.io/2020/11/02/Interview-Preparation/1.png">
<meta property="og:image" content="https://www.runoob.com/wp-content/uploads/2014/08/1200px-ModelViewControllerDiagram2.svg_.png">
<meta property="article:published_time" content="2020-11-02T08:21:21.000Z">
<meta property="article:modified_time" content="2020-12-25T00:40:37.497Z">
<meta property="article:author" content="Voyager">
<meta property="article:tag" content="Network">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="OS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdn.net/2018041112053246?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5NTIxNTU0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">


<link rel="canonical" href="https://acvoyager.github.io/2020/11/02/Interview-Preparation/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>Interview Preparation | The Black Pearl</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168368135-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-168368135-1');
      }
    </script>



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">The Black Pearl</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="nav-number">1.</span> <span class="nav-text">网络相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis%E7%9B%B8%E5%85%B3"><span class="nav-number">2.</span> <span class="nav-text">Redis相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3"><span class="nav-number">3.</span> <span class="nav-text">操作系统相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-IO%E8%AF%A6%E8%A7%A3"><span class="nav-number">3.1.</span> <span class="nav-text">Linux IO详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%EF%BC%8C%E7%AD%89%E5%BE%85%E4%B8%8E%E5%94%A4%E9%86%92"><span class="nav-number">3.2.</span> <span class="nav-text">阻塞，等待与唤醒</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3"><span class="nav-number">4.</span> <span class="nav-text">数据库相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E7%9B%B8%E5%85%B3"><span class="nav-number">5.</span> <span class="nav-text">SQL相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E7%9B%B8%E5%85%B3"><span class="nav-number">6.</span> <span class="nav-text">计算机组成相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%8C%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3"><span class="nav-number">7.</span> <span class="nav-text">数据结构，算法相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java%E7%9B%B8%E5%85%B3"><span class="nav-number">8.</span> <span class="nav-text">Java相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="nav-number">9.</span> <span class="nav-text">多线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Volatile"><span class="nav-number">9.1.</span> <span class="nav-text">Volatile</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-number">10.</span> <span class="nav-text">大文件处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3"><span class="nav-number">11.</span> <span class="nav-text">Shell命令相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-number">12.</span> <span class="nav-text">设计模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E8%AF%95%E5%A4%8D%E7%9B%98"><span class="nav-number">13.</span> <span class="nav-text">面试复盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%BA%E5%8A%9B%E9%A2%98"><span class="nav-number">14.</span> <span class="nav-text">智力题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HR%E9%9D%A2%E7%9B%B8%E5%85%B3"><span class="nav-number">15.</span> <span class="nav-text">HR面相关</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Voyager</p>
  <div class="site-description" itemprop="description">回首向来萧瑟处，归去</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/AcVoyager" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AcVoyager" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xcvoyager01@gmail.com" title="E-Mail → mailto:xcvoyager01@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://acvoyager.github.io/2020/11/02/Interview-Preparation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Voyager">
      <meta itemprop="description" content="回首向来萧瑟处，归去">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The Black Pearl">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Interview Preparation
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-02 00:21:21" itemprop="dateCreated datePublished" datetime="2020-11-02T00:21:21-08:00">2020-11-02</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-24 16:40:37" itemprop="dateModified" datetime="2020-12-24T16:40:37-08:00">2020-12-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%AD%E6%96%87-English/" itemprop="url" rel="index"><span itemprop="name">中文, English</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="firestore-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/02/Interview-Preparation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/02/Interview-Preparation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h2><p>OSI七层模型和TCP/IP四层模型：</p>
<p><img src="https://img-blog.csdn.net/2018041112053246?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5NTIxNTU0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="经典网络分层模型图"></p>
<p>TCP三次握手(动图)：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA3MjA1NzA5MzY3?x-oss-process=image/format,png" alt=""></p>
<p>三次握手总览：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA1MTEwNDA1NjY2?x-oss-process=image/format,png" alt=""></p>
<p>TCP四次挥手（动图）：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA3MjA1NzU2MjU1?x-oss-process=image/format,png" alt=""></p>
<p>四次挥手总揽：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA2MDg0ODUxMjcy?x-oss-process=image/format,png" alt=""></p>
<p>TCP三次握手/四次挥手详解，及以上图片来源：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qzcsu/article/details/72861891">https://blog.csdn.net/qzcsu/article/details/72861891</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/entry/6844903434366222350">cookie与session</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37379780">TCP流量控制、拥塞控制</a></p>
<p><a target="_blank" rel="noopener" href="https://jishuin.proginn.com/p/763bfbd2831c">从URL在浏览器被被输入到页面展现的过程中发生了什么?</a></p>
<p><img src="https://filescdn.proginn.com/c1386c7346ed50da4807693fce7001d6/8256a8e79a14f5cef1f23e55df2e921f.webp" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://developer.51cto.com/art/202001/609520.htm">HTTPS原理介绍</a></p>
<p><img src="https://s4.51cto.com/oss/202001/16/e21ecbee958cc8748aeaa66308279833.png" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904046063517704">TLS握手过程</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2020/1/12/16f98d1f10d64aa7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<p>Q: TCP中syn-flood怎么避免</p>
<p>A: 1. 可以缩短服务器连接的超时时间。2. 如果短时间内发现大量来自于随机IP地址的连接请求，并且在第一次握手后没有发送后续消息，说明这些连接请求很可能是syn-flood恶意攻击。</p>
<p>Q: DNS查询是通过TCP还是UDP传输的？TCP和UDP的区别是什么？</p>
<p>A: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/lsgxeva/p/8321192.html#:~:text=%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%91DNS%E6%9C%8D%E5%8A%A1%E5%99%A8,%E4%BB%85%E6%94%AF%E6%8C%81UDP%E6%9F%A5%E8%AF%A2%E5%8C%85%E3%80%82">DNS使用的是TCP协议还是UDP协议</a>。注意，UDP最大允许报文是512字节。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching">HTTP caching</a></p>
<p>Q: HTTPS是如何防止中间人攻击的？</p>
<p>A: <a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904065227292685#heading-11">你连 HTTPS 原理都不懂,还讲“中间人攻击”?</a> 讲的非常好！<br>其中有一个关键点是，如果中间人下载了服务端的证书怎么办？这不就成功冒充了吗？文中给出了回答：</p>
<blockquote>
<p>这里插一个我想了很久的但其实答案很简单的问题：既然证书是公开的，如果要发起中间人攻击，我在官网上下载一份证书作为我的服务器证书，那客户端肯定会认同这个证书是合法的，如何避免这种证书冒用的情况？其实这就是非加密对称中公私钥的用处，虽然中间人可以得到证书，但私钥是无法获取的，一份公钥是不可能推算出其对应的私钥，中间人即使拿到证书也无法伪装成合法服务端，因为无法对客户端传入的加密数据进行解密。</p>
</blockquote>
<p>关键点就在于，你可以冒充证书，但是你永远不知道证书中的公钥对应的私钥是什么！所以客户端回给你的信息你解不了密！</p>
<h2 id="Redis相关"><a href="#Redis相关" class="headerlink" title="Redis相关"></a>Redis相关</h2><p>推荐下面的文章，将多路复用和事件循环的知识融合在一起</p>
<p><a target="_blank" rel="noopener" href="https://arianx.me/2019/04/15/Redis-network-model-introduction/">Redis 单线程网络模型及 I/O 多路复用</a></p>
<p>分布式锁，raft：</p>
<p>一致性hash：</p>
<h2 id="操作系统相关"><a href="#操作系统相关" class="headerlink" title="操作系统相关"></a>操作系统相关</h2><p>一个较为全面的综述: <a target="_blank" rel="noopener" href="https://juejin.im/post/6850037269835808782#heading-4">https://juejin.im/post/6850037269835808782#heading-4</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dlutbrucezhang/article/details/9058583">虚拟内存和物理内存</a></p>
<p><a target="_blank" rel="noopener" href="https://xie.infoq.cn/article/3a980c8f6a5a0a7a26cc3d2e8">僵尸进程和孤儿进程</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a1414345/article/details/70215628">死锁检测和解除</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011080472/article/details/51206332">缺页中断——FIFO、LRU、OPT三种置换算法</a></p>
<p><a target="_blank" rel="noopener" href="https://fengyuanblog.github.io/2019/09/27/%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84(%E4%BB%A5Java%E4%B8%BA%E4%BE%8B)/">进程的内存结构</a></p>
<p>进程调度队列图–什么时候/为什么要进程调度：</p>
<p><img src="http://c.biancheng.net/uploads/allimg/181102/2-1Q10209450b95.gif" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://chorer.github.io/2020/04/11/OS-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-9%EF%BC%9A%E8%B0%83%E5%BA%A6/#%E2%91%A0-RR%E7%AE%97%E6%B3%95">几种进程调度算法</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zengkefu/p/5759335.html">Linux系统读写缓存</a></p>
<p>Q: select和epoll的区别，水平触发和边沿触发</p>
<p>A：推荐参考<a target="_blank" rel="noopener" href="https://juejin.im/post/6844904200141438984">彻底了解多路复用</a>一文来对多路复用以及其产生背景、不同系统调用有一个全面的认识。顺便搞清楚同步vs异步，阻塞vs非阻塞的关系。</p>
<p>实际上多路复用整个过程既有BIO（同步阻塞），也有NIO（同步非阻塞）的过程。进行系统调用的时候是阻塞的，后续处理事件逻辑是非阻塞的。整个过程是同步的，因为调用者要等被调用者有返回值才继续进行。</p>
<p>select, epoll（和poll）都属于系统调用。select（和poll）都需要：</p>
<ul>
<li>每次系统调用时从用户态拷贝所有的fds到内核态</li>
<li>系统内核要遍历所有fds找出有事件发生的fd（O(n)）</li>
<li>select对fds数量还有限制（1024）</li>
</ul>
<p>前两点在fd数量大的时候，系统开销会很大。因此我们有epoll。epoll只能在linux下使用，epoll说白了就是少拷贝+给每个fd加上回调（事件驱动）。</p>
<ul>
<li>每当新fd进入时，只拷贝新的，不像select全部拷贝。</li>
<li>epoll给每个fd都加上回调函数。也就是说当事件发生时，自然会知道是那个事件，不用轮询（O(1)）。</li>
</ul>
<p>相当于epoll只关心活跃连接，而非全部连接。</p>
<p>epoll水平触发和边沿触发：</p>
<p>水平触发（默认，LT）：类比脉冲，水平时也会触发。</p>
<ul>
<li>只要文件描述符关联的读内核缓冲区非空，有数据可以读取，就一直发出可读信号进行通知</li>
<li>当文件描述符关联的内核写缓冲区不满，有空间可以写入，就一直发出可写信号进行通知<br>边沿出发（ET）：类比脉冲，上升/下降沿才会触发。</li>
<li>当文件描述符关联的读内核缓冲区由空转化为非空的时候，则发出可读信号进行通知，所以会一直读读到结束为止。</li>
<li>当文件描述符关联的内核写缓冲区由满转化为不满的时候，则发出可写信号进行通知，所以会一直写写到结束为止。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903616524845063">栈帧</a></p>
<h3 id="Linux-IO详解"><a href="#Linux-IO详解" class="headerlink" title="Linux IO详解"></a>Linux IO详解</h3><p>首推这篇文章，介绍了DMA技术以及linux系统IO中各角色扮演的部分：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/83398714">深入剖析Linux IO原理和几种零拷贝机制的实现</a></p>
<p><img src="https://pic4.zhimg.com/80/v2-8894982f1c09259e2959acddc9f095e7_1440w.jpg" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903728718462990#heading-2">Linux五种IO模型介绍</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/10/30/166c578ad18a1d40?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<h3 id="阻塞，等待与唤醒"><a href="#阻塞，等待与唤醒" class="headerlink" title="阻塞，等待与唤醒"></a>阻塞，等待与唤醒</h3><p>其实，我对这部分的知识很长时间以来处于半懂不懂的状态。借于近期研究Java Socket的契机，我重新审视这个问题。<br>到底，比如说I/O阻塞，或是由于锁而导致的各种阻塞是如何影响操作系统对进程的处理的？</p>
<p>此处放一个精简版的答案：对于因为I/O阻塞，sleep()，或是因为锁而导致的此类<strong>有条件</strong>的进程阻塞/等待，操作系统中<br>有一个等待队列专门用来存放他们。中断则是一种唤醒机制。等待队列是通过双向循环链表实现的。</p>
<p>等到特定的条件满足的时候，这样的进程会被唤醒并被放入就绪队列里面。就绪队列中的进程是由于操作系统调度/时间片过期等<br>被放入的（复习进程生命周期）。就绪队列是由红黑树实现。</p>
<p>CPU从红黑树获取进程并执行。</p>
<p>详细的内容，请查看这篇文章，个人觉得写的不错：<a target="_blank" rel="noopener" href="https://smartkeyerror.com/Linux-Blocking">Linux 阻塞与唤醒实现原理</a></p>
<h2 id="数据库相关"><a href="#数据库相关" class="headerlink" title="数据库相关"></a>数据库相关</h2><p>Q: <strong>mysql索引结构？为什么用B/B+树？</strong></p>
<p>A: 因为索引可以提高检索效率，而B/B+树相比于二叉树，高度较低。对于树的每个结点，数据库在检索时都有可能载入一个磁盘页导致磁盘IO的开销（较慢），所以高度较低的情况下可以节省由于磁盘IO带来的检索开销。</p>
<p>相较于B树，B+树更优。B+树具有以下特性：</p>
<ul>
<li>B+树结点不存储数据，内结点存指针和key，叶子结点存数据 -&gt; 磁盘IO更低</li>
<li>B+查询效率更稳定 -&gt; 数据都在页结点中</li>
<li>B+遍历数据（扫库）更为方便 -&gt; 原因同上</li>
</ul>
<p>Ref:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903985166417933">https://juejin.im/post/6844903985166417933</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/bntX2jSQfEHy7/article/details/88415212">https://blog.csdn.net/bntX2jSQfEHy7/article/details/88415212</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_25448409/article/details/78110430">数据库事务的四大特性（ACID）以及事务的隔离级别</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Snailclimb/JavaGuide/blob/master/docs/database/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB(%E5%9B%BE%E6%96%87%E8%AF%A6%E8%A7%A3).md">事务隔离级别(图文详解)</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/doocs/advanced-java/blob/master/docs/high-concurrency/database-shard.md">分库分表</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1030117">MySQL联合索引</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904073955639304">MySQL联系索引底层实现原理</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2020/2/27/170867cb6af0a72d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<p>创建联合索引SQL语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index `some_index` <span class="keyword">on</span> some_table(col1, col2, col3);</span><br></pre></td></tr></table></figure>
<p>关于联合索引这块儿的记忆重点：</p>
<ol>
<li>最左匹配原则</li>
<li>联系索引只会构建一个B+树</li>
<li>索引根结点一般常驻内存，页结点在磁盘中，通过磁盘IO读取。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903750839058446">MySQL优化/面试</a></p>
<p><strong>个人总结</strong>: MySQL优化慢查询</p>
<ol>
<li>通过配置MySQL配置文件，记录下慢的query，比如说运行时间超过2秒的查询，或者是没有用到索引的查询。</li>
<li>通过log找到慢查询后，使用<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/explain-output.html">explain来了解该查询的execution plan</a>.</li>
<li>你也可以使用profiling来具体查询运行时间，memory等内容。不过MySQL自8.0.18版本后，可以用<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/explain.html#explain-analyze">explain analyze来查询execution cost等信息</a>。</li>
</ol>
<h2 id="SQL相关"><a href="#SQL相关" class="headerlink" title="SQL相关"></a>SQL相关</h2><p>SQL语句执行顺序:</p>
<p><img src="https://sp.mysqltutorial.org/wp-content/uploads/2019/10/MySQL-GROUP-BY-Evaluation-Order.png" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012501054/article/details/80361447?spm=a2c6h.12873639.0.0.406853d8HtWypk">造成全表扫描的SQL语句及应对措施</a></p>
<h2 id="计算机组成相关"><a href="#计算机组成相关" class="headerlink" title="计算机组成相关"></a>计算机组成相关</h2><p>Q: CPU超频和超线程的区别，超频有什么优势，超线程呢</p>
<h2 id="数据结构，算法相关"><a href="#数据结构，算法相关" class="headerlink" title="数据结构，算法相关"></a>数据结构，算法相关</h2><p>Q: 为什么要使用红黑树，AVl树？</p>
<p>A: 见<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/72505589">有了二叉查找树、平衡树（AVL）为啥还需要红黑树</a> </p>
<p>平衡树是为了解决二叉查找树退化为链表的情况，而红黑树是为了解决平衡树在插入、删除等操作需要频繁调整的情况。平衡树是指任意两个节点的左子树和右子树的高度差至多等于1。</p>
<p><a target="_blank" rel="noopener" href="https://lotabout.me/2018/skip-list/">Skip List跳表</a></p>
<ul>
<li>查询/插入/删除： 均为O(logn)</li>
<li>每个节点的层数是随机决定的</li>
<li><img src="https://lotabout.me/2018/skip-list/skip-list.svg" alt=""></li>
</ul>
<p>Q: 常见的HASH算法有哪些</p>
<p>A: MD4, MD5, SHA-1等</p>
<p>Ref: <a target="_blank" rel="noopener" href="https://blog.csdn.net/Beyond_2016/article/details/81286360">https://blog.csdn.net/Beyond_2016/article/details/81286360</a></p>
<p>Q: 常见的排序算法都有哪些，归并排序和堆排序的过程</p>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sort-an-array/">https://leetcode-cn.com/problems/sort-an-array/</a></p>
<p><a target="_blank" rel="noopener" href="https://toutiao.io/posts/d5avhl/preview">最小栈和最小队列</a></p>
<p>栈和队列的一些操作总结：</p>
<ol>
<li>最小值栈。用另一个栈记录栈底到栈中任意结点区间内的最小值。</li>
<li>最小队值列。用另一个队列B。插入content队列时若大于等于B队尾，则插入B队尾；否则删除B队尾直到空或者满足上一个条件位置。获取最小值到方法是取B队首。当删除content队首时如果该值恰好等于B队首，那么也删去B队首。或者，直接用堆做。</li>
<li>双栈实现队：取元素时，栈B.pop()，若栈B为空，把栈A所有内容pop到栈B；插入很简单，只push到A中。</li>
<li>双队列实现栈：每次插入元素时，把A中元素全部remove并插入到B中，然后插入元素，然后把B中元素remove全插回A中；删除很简单，A.remove()即可。</li>
<li><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/design-circular-queue/">固定大小数组实现循环队列</a>。注意当队列满了之后直接return false，不用操心。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/solution/gu-piao-jiao-yi-xi-lie-cong-tan-xin-dao-dong-tai-g/">炒股票系列</a></p>
<p>给区间求时间点峰值：别想太多，无脑hashmap，一天86400秒，就创建一个有86400条目的hashmap就好，顶多用个treemap加个comparator</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/6799344/9045814">DJ最短路径算法：不能处理负向边的例子</a></p>
<p>Q: <strong>解决hash碰撞的方法</strong></p>
<p>A: 常见的有开放定址法，链地址法，再哈希法和建立公共溢出区法。</p>
<ul>
<li>开放定址法有很多探查法。比如说平房探查法，如果探查了一半的元素仍有冲突的话，那么说明哈希表太满了，需要重建。</li>
<li>链地址法比较常用，java jdk便采用了该方法。冲突比较严重时适合该方法。jdk1.8以后，对于长度&gt;=8的链接转为红黑树存储。</li>
<li>再哈希法，同时构造多个不同的哈希函数，当H1 = RH1(key) 发生冲突时，再用H2 = RH2(key) 进行计算，直到冲突不再产生，这种方法不易产生聚集，但是增加了计算时间。</li>
<li>将哈希表分为公共表和溢出表，当溢出发生时，将所有溢出数据统一放到溢出区</li>
</ul>
<p>ref: <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/4d3cb99d7580">https://www.jianshu.com/p/4d3cb99d7580</a></p>
<h2 id="Java相关"><a href="#Java相关" class="headerlink" title="Java相关"></a>Java相关</h2><p><a target="_blank" rel="noopener" href="https://www.pdai.tech/">Java全栈知识体系</a></p>
<p>Q: hashmap和hashtable的区别，抽象类和接口的区别</p>
<p>A: 抽象类和接口就不说了。</p>
<p>HashMap是HashTable的轻量级实现，性能比hashtable好但是线程不安全。hashtable线程安全。</p>
<p>重点：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33509426">类加载</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv8014004/">JVM面试题</a></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>初始化位置</td>
<td>初始化时间</td>
</tr>
<tr>
<td>静态变量</td>
<td>方法区，与class一起</td>
<td>类加载准备阶段分配存储空间，初始化阶段初始化</td>
</tr>
<tr>
<td>静态方法</td>
<td>方法区</td>
<td>类加载初始化阶段</td>
</tr>
<tr>
<td>静态域</td>
<td>方法区</td>
<td>类加载初始化阶段</td>
</tr>
</tbody></table>
<p>Q: 为什么静态方法中不能引用实例变量？</p>
<p>A: 因为静态方法在类加载过程中被分配内存，可以直接通过类名访问，而实例变量在对象实例化的时候才被分配内存。所以静态方法超前于实例对象，因而不能引用实例变量；反之可以。</p>
<p>关于JVM垃圾回收，下文是较为浅显易懂的一个：</p>
<p><a target="_blank" rel="noopener" href="https://www.choupangxia.com/2019/10/20/interview-jvm-gc-01/">https://www.choupangxia.com/2019/10/20/interview-jvm-gc-01/</a></p>
<p><img src="http://www.choupangxia.com/wp-content/uploads/2019/10/jvm-xmind.jpg" alt=""></p>
<p>垃圾回收中的关键词：</p>
<ul>
<li>判断对象存活情况：引用计数法，可达性分析法</li>
<li>垃圾清除/回收算法：<ul>
<li>标记清除法：缺点有二，一个是效率问题，标记和清除过程的效率都不高；另外是空间问题，标记清除之后会产生大量不连续的内存碎片</li>
<li>复制法：缺点，将内存缩小为一半，性价比低，持续复制长生存期的对象则导致效率低下</li>
<li>标记整理算法：既不用浪费50%的内存，也解决了复制算法在对象存活率较高时的效率低下问题</li>
<li>分代收集算法(java8之后heap的结构由eden+s0+s1+老年代构成)，将Java的堆内存逻辑上分成两块，新生代和老年代，针对不同存活周期、不同大小的对象采取不同的垃圾回收策略。在新生代中大多数对象都是瞬间对象，只有少量对象存活，复制较少对象即可完成清理，因此采用复制算法。而针对老年代中的对象，存活率较高，又没有额外的担保内存，因此采用标记整理算法。</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/Snailclimb/JavaGuide/blob/master/docs/java/collection/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98.md">Java框架常见面试题</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000022038238">String, StringBuilder and StringBuffer</a></p>
<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><p>经典题：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/print-foobar-alternately/submissions/">交替打印</a></p>
<p>一般是两套组件：</p>
<ol>
<li>ReentryLock和Condition然后.await()/.signal()</li>
<li>Synchronized关键词和new Object然后.wait()/.notifyAll()</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hanganglin/articles/3517178.html">Java多线程基础</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hanganglin/p/3577096.html">Java常用锁机制介绍</a></p>
<p>有空可读：<a target="_blank" rel="noopener" href="https://tech.meituan.com/2018/11/15/java-lock.html">美团技术博文: 不可不说的Java“锁”事</a></p>
<p>Q: Synchronize与lock的不同?</p>
<p>A:<br><strong>synchronized实现的机理依赖于软件层面上的JVM</strong>，因此其性能会随着Java版本的不断升级而提高。事实上，在Java1.5中，synchronized是一个重量级操作，需要调用操作系统相关接口，性能是低效的，有可能给线程加锁消耗的时间比有用操作消耗的时间更多。到了Java1.6，synchronized进行了很多的优化，有适应自旋、锁消除、锁粗化、轻量级锁及偏向锁等，效率有了本质上的提高。在之后推出的Java1.7与1.8中，均对该关键字的实现机理做了优化。</p>
<p>需要说明的是，当线程通过synchronized等待锁时是不能被Thread.interrupt()中断的，因此程序设计时必须检查确保合理，否则可能会造成线程死锁的尴尬境地。</p>
<p>最后，尽管Java实现的锁机制有很多种，并且有些锁机制性能也比synchronized高，但还是强烈推荐在多线程应用程序中使用该关键字，因为<strong>实现方便，后续工作由JVM来完成，可靠性高</strong>。只有在确定锁机制是当前多线程程序的<strong>性能瓶颈</strong>时，才考虑使用其他机制，如<code>ReentrantLock</code>等。</p>
<p>Lock实现的机理依赖于<strong>特殊的CPU指定，可以认为不受JVM的约束</strong>，并可以通过其他语言平台来完成底层的实现。在并发量较小的多线程应用程序中，<code>ReentrantLock</code>与synchronized性能相差无几，但在高并发量的条件下，synchronized性能会迅速下降几十倍，而<code>ReentrantLock</code>的性能却能依然维持一个水准，因此我们建议<strong>在高并发量情况下使用<code>ReentrantLock</code></strong>。</p>
<p><code>ReentrantLock</code>引入两个概念：公平锁与非公平锁。公平锁指的是锁的分配机制是公平的，通常先对锁提出获取请求的线程会先被分配到锁。反之，JVM按随机、就近原则分配锁的机制则称为不公平锁。<code>ReentrantLock</code>在构造函数中提供了是否公平锁的初始化方式，<strong>默认为非公平锁</strong>。这是因为，<strong>非公平锁实际执行的效率要远远超出公平锁</strong>，除非程序有特殊需要，否则最常用非公平锁的分配机制。</p>
<p><code>ReentrantLock</code>通过方法lock()与unlock()来进行加锁与解锁操作，与synchronized会被JVM自动解锁机制不同，<code>ReentrantLock</code>加锁后需要手动进行解锁。为了避免程序出现异常而无法正常解锁的情况，使用<code>ReentrantLock</code>必须在finally控制块中进行解锁操作。</p>
<p><strong>Java线程池</strong></p>
<p>有线程基础但是没有用过线程池的话，看一下美团技术团队写的这篇，个人感觉非常有条理并且全面：<a target="_blank" rel="noopener" href="https://tech.meituan.com/2020/04/02/java-pooling-pratice-in-meituan.html">Java线程池实现原理及其在美团业务中的实践</a></p>
<pre><code>Q: 为什么要用线程池？

线程池解决的核心问题就是资源管理问题。在**并发环境下，系统不能够确定在任意时刻中，有多少任务需要执行，有多少资源需要投入**。这种不确定性将带来以下若干问题：
+ 频繁申请/销毁资源和调度资源，将带来额外的消耗，可能会非常巨大。
+ 对资源无限申请缺少抑制手段，易引发系统资源耗尽的风险。
+ 系统无法合理管理内部的资源分布，会降低系统的稳定性。</code></pre><hr>
<pre><code>Q: Java中线程池的设计？

Java中线程池的核心实现类是`ThreadPoolExecutor`，顶层接口是`Executor`。用户只需要提供`Runnable`对象，将任务的运行逻辑提交到`Executor`中，由它实现线程的掉配和任务的执行。</code></pre><p><img src="https://p1.meituan.net/travelcube/912883e51327e0c7a9d753d11896326511272.png" alt=""></p>
<p>ThreadPool运行流程图：<br><img src="https://p0.meituan.net/travelcube/77441586f6b312a54264e3fcf5eebe2663494.png" alt=""></p>
<p>线程池在内部实际上构建了一个生产者消费者模型，将线程和任务两者解耦，并不直接关联，从而良好的缓冲任务，复用线程。线程池的运行主要分成两部分：任务管理、线程管理。<strong>任务管理部分充当生产者</strong>的角色，当任务提交后，线程池会判断该任务后续的流转：</p>
<ul>
<li>直接申请线程执行该任务</li>
<li>缓冲到队列中等待线程执行</li>
<li>拒绝该任务。</li>
</ul>
<p><strong>线程管理部分是消费者</strong>，它们被统一维护在线程池内，根据任务请求进行线程的分配，当线程执行完任务后则会继续获取新的任务去执行，最终当线程获取不到任务的时候，线程就会被回收。</p>
<pre><code>Q: 线程池生命周期？</code></pre><p><img src="https://p0.meituan.net/travelcube/62853fa44bfa47d63143babe3b5a4c6e82532.png" alt=""></p>
<p><img src="https://p0.meituan.net/travelcube/582d1606d57ff99aa0e5f8fc59c7819329028.png" alt=""></p>
<hr>
<pre><code>Q: 如何统计线程池中所有任务从开始到结束的时间？

开始前计数，开始后结束计数

来源：https://blog.csdn.net/weixin_40912883/article/details/79649922</code></pre><hr>
<pre><code>Q：如何统计线程池的线程执行时间？

可以看到runWorker方法中在task.run()也就是任务执行前后分别执行了beforeExecute以及afterExecute方法，着两个方法在ThreadPoolExecutor的继承类中都是可重写的，提供了极大的灵活性。我们可以在继承ThreadPoolExecutor之后在任务执行前后做任何自己需要做的事情，当然也就包括任务执行的时间统计。

来源：https://juejin.im/post/6844903710296899597#heading-10</code></pre><h3 id="Volatile"><a href="#Volatile" class="headerlink" title="Volatile"></a>Volatile</h3><hr>
<pre><code>Q: `volatile`关键字了解吗？</code></pre><p>volatile:</p>
<pre><code>保证了不同线程对该变量操作的内存可见性;

禁止指令重排序；</code></pre><p><strong>可见性</strong>: 指当一个线程修改了共享变量的值，其他线程能够立即得知这个修改。</p>
<p>volatile变量保证新值能够立马同步到主内存，使用时也立即从主内存刷新，保证了多线程操作时变量的可见性。而普通变量不能够保证.</p>
<p>注意，在并发编程中一般强调三个性质：<strong>原子性</strong>，<strong>可见性</strong> 和 <strong>有序性</strong>。volatile的作用是<strong>保证可见性和排序性中的禁止指令重排序</strong>，但是无法保证操作的原子性。因此volatile<strong>不是线程安全的</strong>，<code>synchronized</code>和lock是可以的。volatile有时又称轻量级的锁。</p>
<p>实际上适用volatile的场景并不多。要使 volatile 变量提供理想的线程安全，必须同时满足下面两个条件：</p>
<ul>
<li>对变量的写操作不依赖于当前值。</li>
<li>该变量没有包含在具有其他变量的不变式中。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">volatile</span> <span class="keyword">boolean</span> shutdownRequested;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shutdown</span><span class="params">()</span> </span>&#123; shutdownRequested = <span class="keyword">true</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (!shutdownRequested) &#123;</span><br><span class="line">        <span class="comment">// do stuff</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>强烈建议阅读下列文章：</p>
<ul>
<li><a href="cnblogs.com/hello-shf/p/12100799.html">Java内存模型（JMM）那些事</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903989998288910">Java面试官最爱问的volatile关键字</a></li>
</ul>
<p>重温一下JMM（Java内存模型），真心是重点。</p>
<p><img src="1.png" alt=""></p>
<h2 id="大文件处理"><a href="#大文件处理" class="headerlink" title="大文件处理"></a>大文件处理</h2><p>绝大部分大文件处理的问题，都可以分为以下两类：</p>
<p><strong>1. 两个大文件求交集：两文件采用同一Hash函数进行分组+bitmap相同下标组间求交集</strong></p>
<p>因为采用的是hash分组法，所以也就是说，两个相同的内容一定会被分到下标相同的两组。</p>
<p>bitmap具体过程：假设两个大文件内容都是整数。每个整数占4B=32bit，那么我们用两个bit表示每个整数，00代表无文件访问过，01代表文件1访问过，10代表文件2访问过，11代表两个文件都访问过。相当于对于每两个下标相同的组文件，都只需要遍历一遍就可以找到它们相同的内容。这个过程需要的内存大小为2^32*2 bits = 1GB</p>
<p>例：给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？</p>
<p><strong>2. 单个大文件让你求top K(包含最大情况)：Hash分组，每组求topk，最后合并</strong></p>
<p>合并的时候即可以采取归并排序那样的合并方法，也可以构建堆进行合并。</p>
<p>例：有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词</p>
<p><strong>Ref</strong>:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/v_JULY_v/article/details/6279498">https://blog.csdn.net/v_JULY_v/article/details/6279498</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/niunafei/p/13274749.html">https://www.cnblogs.com/niunafei/p/13274749.html</a></li>
</ol>
<h2 id="Shell命令相关"><a href="#Shell命令相关" class="headerlink" title="Shell命令相关"></a>Shell命令相关</h2><p>Q: kill -9 的-9是什么意思？kill的实现机制是什么样的？</p>
<p>A: -9是kill的一个参数，意味无条件地杀死一个进程。实现机制是向指定进程发送一个信号。实操：使用<br><code>ps -elf | grep &lt;something&gt;</code>列出你想要kill的进程，然后<code>kill -9 &lt;its pid&gt;</code></p>
<p>Follow up: 如何一行命令，用名称找到进程并kill掉？（比如kill掉top）</p>
<p>A：<code>ps -elf | grep top | awk &#39;&#123;print $2&#125;&#39; | xargs kill -9</code></p>
<p>Q: vim里面替换怎么做？</p>
<p>A: <a target="_blank" rel="noopener" href="https://harttle.land/2016/08/08/vim-search-in-file.html">在 Vim 中优雅地查找和替换</a></p>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><p><a target="_blank" rel="noopener" href="https://www.runoob.com/design-pattern/design-pattern-tutorial.html">常见设计模式</a>：</p>
<ul>
<li>单例模式：系统中只会存在一个该类的对象，作为全局唯一的接入点。常用在硬件的驱动。<ul>
<li>单例模式下，<a target="_blank" rel="noopener" href="https://blog.csdn.net/ljheee/article/details/79100617">线程安全实现的两种方式</a>：</li>
<li><ol>
<li>volatile变量+synchronized，俗称双重锁</li>
</ol>
</li>
<li><ol start="2">
<li>静态内部类，通过类加载机制来解决同步问题</li>
</ol>
</li>
</ul>
</li>
<li>工厂模式：创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个共同的接口来指向新创建的对象。让其子类实现工厂接口，创建过程在其子类执行。</li>
<li>MVC</li>
<li><img src="https://www.runoob.com/wp-content/uploads/2014/08/1200px-ModelViewControllerDiagram2.svg_.png" alt=""></li>
</ul>
<h2 id="面试复盘"><a href="#面试复盘" class="headerlink" title="面试复盘"></a>面试复盘</h2><p>Q: Java ArrayList扩容原理</p>
<p>一句话：<code>Arrays.copyOf()</code>，这个过程分为两步：</p>
<ol>
<li>new一个指定长度的新数组</li>
<li>调用<code>System.arraycopy()</code>将旧数组中元素复制到新数组中</li>
</ol>
<p>ArrayList相关的其他知识点：</p>
<ol>
<li>无参数构造方法默认大小为10（HashMap是16）</li>
<li>每次扩容扩大一般，也就是变成现在的1.5倍</li>
<li>最大容量不超过int的最大值</li>
</ol>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/magi1201/article/details/84638636">ArrayList扩容处理</a></p>
<p>Q: Linux中top, free, head, tail, less指令简要介绍</p>
<p>#TODO</p>
<pre><code>Q: CountDownLatch了解吗？</code></pre><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html">CountDownLatch官方文档</a></p>
<p>一般来讲和线程池配合使用。</p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html">线程池的官方文档</a></p>
<p>通俗点说，CountDownLatch也是一个有着等待和唤醒的“信号”作用的类。在新建CountDownLatch对象的时候传入一个大于0的数代表计数器初始大小。<code>await()</code>函数被调用时阻塞当前线程。<code>countdown()</code>函数被调用时计数器-1。当计数器值为0的时候，唤醒所有<code>await()</code>的线程。</p>
<p>配合线程池的使用，可以解决“统计线程池中所有任务从开始到结束的时间”的问题。我自己实现了一个<a target="_blank" rel="noopener" href="https://github.com/AcVoyager/playground/tree/master/Concurrency/ThreadTaskTimer">demo</a>。</p>
<h2 id="智力题"><a href="#智力题" class="headerlink" title="智力题"></a>智力题</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ab2f71802733">海盗分金币</a></p>
<p>一半及以上表决通过情形：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>人数</td>
<td>分配</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>(0, 100)第一人必死</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>(100, 0, 0)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>(98, 0, 1, 1)</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>(97, 0, 1, 2, 0)，最后2人可调动</td>
<td></td>
</tr>
</tbody></table>
<h2 id="HR面相关"><a href="#HR面相关" class="headerlink" title="HR面相关"></a>HR面相关</h2><p><a target="_blank" rel="noopener" href="https://www.nowcoder.com/discuss/281486?type=2">https://www.nowcoder.com/discuss/281486?type=2</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Network/" rel="tag"># Network</a>
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/OS/" rel="tag"># OS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/11/01/AWS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9AHigh-Availability/" rel="prev" title="AWS学习笔记-High Availability">
                  <i class="fa fa-chevron-left"></i> AWS学习笔记-High Availability
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/11/03/Learning-Roadmap/" rel="next" title="Learning Roadmap">
                  Learning Roadmap <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Voyager</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  

<script src="/js/local-search.js"></script>






  


  <script src="//cdn.jsdelivr.net/npm/firebase@8.0.0/firebase-app.js"></script>
  <script src="//cdn.jsdelivr.net/npm/firebase@8.0.0/firebase-firestore.js"></script>
  <script>
    firebase.initializeApp({
      apiKey   : 'AIzaSyDY9_gdwlZQh3pD0aOUUt4qoOuS_Cnn7L8',
      projectId: 'my-blog-9d335'
    });

    function getCount(doc, increaseCount) {
      // IncreaseCount will be false when not in article page
      return doc.get().then(d => {
        // Has no data, initialize count
        let count = d.exists ? d.data().count : 0;
        // If first view this article
        if (increaseCount) {
          // Increase count
          count++;
          doc.set({
            count
          });
        }
        return count;
      });
    }

    function appendCountTo(el) {
      return count => {
        el.innerText = count;
      };
    }
  </script>
  <script>
    (function() {
      const db = firebase.firestore();
      const articles = db.collection('articles');

      if (CONFIG.page.isPost) {
        // Fix issue #118
        // https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent
        const title = document.querySelector('.post-title').textContent.trim();
        const doc = articles.doc(title);
        let increaseCount = CONFIG.hostname === location.hostname;
        if (localStorage.getItem(title)) {
          increaseCount = false;
        } else {
          // Mark as visited
          localStorage.setItem(title, true);
        }
        getCount(doc, increaseCount).then(appendCountTo(document.querySelector('.firestore-visitors-count')));
      } else if (CONFIG.page.isHome) {
        const promises = [...document.querySelectorAll('.post-title')].map(element => {
          const title = element.textContent.trim();
          const doc = articles.doc(title);
          return getCount(doc);
        });
        Promise.all(promises).then(counts => {
          const metas = document.querySelectorAll('.firestore-visitors-count');
          counts.forEach((val, idx) => {
            appendCountTo(metas[idx])(val);
          });
        });
      }
    })();
  </script>



  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://voyager.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://acvoyager.github.io/2020/11/02/Interview-Preparation/";
    this.page.identifier = "2020/11/02/Interview-Preparation/";
    this.page.title = "Interview Preparation";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://voyager.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
